<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ary</title>
  <link rel="icon" type="image/x-icon" href="assets/icon.ico?v=2">
  <style>
    @font-face {
      font-family: 'Space Mono';
      src: url('assets/font/SpaceMono-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
    }

    @font-face {
      font-family: 'Space Mono';
      src: url('assets/font/SpaceMono-Italic.ttf') format('truetype');
      font-weight: 400;
      font-style: italic;
    }

    @font-face {
      font-family: 'Space Mono';
      src: url('assets/font/SpaceMono-Bold.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
    }

    @font-face {
      font-family: 'Space Mono';
      src: url('assets/font/SpaceMono-BoldItalic.ttf') format('truetype');
      font-weight: 700;
      font-style: italic;
    }


    /* Colors: https://colors.artyclick.com/color-palette-generator-from-image/ */
    :root {
       /* --background: #BF3A44; /* Dull Red */
      --background: #57201C; /* Espresso */
      --foreground: #F8EAE0; /* Dawn Pink */
      --border-color: var(--foreground);
     
     
    }

    * {
      font-family: "Space Mono", monospace;
      padding: 0;
      margin: 0;
      box-sizing: border-box;
    }

    body {
      background-color: var(--background);
      color: var(--foreground);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
      gap: 20px;

      
    }

    a {
      color: var(--foreground);
      text-decoration-style: dotted;
    }

    ul {
      list-style: none;
      padding-left: 20px;
      position: relative;
    }

    li {
      position: relative;
      padding-left: 20px;
      cursor: pointer;
    }

    /* Tree visuals */
    li::before {
      content: "├─ ";
      position: absolute;
      left: 0;
    }

    li:last-child::before {
      content: "└─ ";
    }

    ul ul li::before {
      content: "├─ ";
    }

    ul ul li:last-child::before {
      content: "└─ ";
    }

    li.has-children::before {
      content: "▸ ";
    }

    li.has-children.expanded::before {
      content: "▾ ";
    }

    li.has-children>ul {
      display: none;
    }

    li.filesystem-text::before {
      content: "";
      position: static;
    }

    li.filesystem-text {
      white-space: normal;
      padding-left: 0;
      cursor: default;
    }

    #info {
      position: absolute;
      top: 0;
      left: 0;
      padding: 20px;
    }

    #filesystem {
      border: 3px solid var(--border-color);
      padding: 20px;
      width: 500px;
      max-height: 480px;
      overflow-y: auto;
    }

    @media (max-width: 768px) {
      body {
        padding: 10px;
        gap: 10px;
      }

      #filesystem {
        width: 90%;
        max-width: 400px;
        max-height: 70vh;
        padding: 15px;
        font-size: 0.9rem;
      }


    }

    @media (max-width: 480px) {
      #filesystem {
        width: 100%;
        max-width: none;
        border-width: 2px;
        font-size: 0.85rem;
        padding: 12px;
      }

      li {
        padding-left: 15px;
      }

      ul {
        padding-left: 15px;
      }
    }
  </style>
</head>

<body>
  <div id="info">
    <h3 id="name-date">ARY GOMES DA COSTA</h3>
    <p><a href="https://www.linkedin.com/in/arypog" target="_blank">linkedin/arypog</a></p>
    <p><a href="https://github.com/arypog" target="_blank">github/arypog</a></p>
    <p><a href="https://www.youtube.com/@arypog" target="_blank">youtube/arypog</a></p>
    <p><a href="mailto:YXJ5@proton.me">YXJ5@proton.me</a></p>
    <p><a href="assets/curriculo_pt_en.pdf" target="_blank">resume</a></p>
  </div>

  <div id="filesystem">
    <p>Projects:</p>
    <ul id="tree"></ul>
  </div>

  <script>
    function updateDateTime() {
      const now = new Date();
      const formatted = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')} `
        + `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}:${String(now.getSeconds()).padStart(2, '0')}`;
      document.getElementById('name-date').textContent = "ARY GOMES DA COSTA " + formatted;
    }
    updateDateTime();
    setInterval(updateDateTime, 1000);

    function createProjectNode(project) {
      const li = document.createElement("li");
      li.textContent = project.name;
      li.classList.add("has-children");

      const ul = document.createElement("ul");

      if (project.Description) {
        const descLi = document.createElement("li");
        descLi.textContent = project.Description;
        descLi.classList.add("filesystem-text");
        ul.appendChild(descLi);
      }

      if (project.Languages && project.Languages.length > 0) {
        const langLi = document.createElement("li");
        langLi.classList.add("has-children");
        langLi.textContent = "Languages";
        const langUl = document.createElement("ul");
        project.Languages.forEach(lang => {
          const l = document.createElement("li");
          l.textContent = lang;
          langUl.appendChild(l);
        });
        langLi.appendChild(langUl);
        ul.appendChild(langLi);
      }

      if (project.LinkToRepo) {
        const linkLi = document.createElement("li");
        const a = document.createElement("a");
        a.href = project.LinkToRepo;
        a.target = "_blank";
        a.textContent = "repository";
        linkLi.appendChild(a);
        ul.appendChild(linkLi);
      }


      li.appendChild(ul);
      return li;
    }

    function addToggleHandlers() {
      document.querySelectorAll('li.has-children').forEach(parent => {
        parent.addEventListener('click', e => {
          if (e.target !== e.currentTarget) return; // only if parent clicked
          const sublist = parent.querySelector(':scope > ul');
          if (!sublist) return;
          const isVisible = sublist.style.display === 'block';
          sublist.style.display = isVisible ? 'none' : 'block';
          parent.classList.toggle('expanded', !isVisible);
          e.stopPropagation();
        });
      });
    }

    fetch("projects.json")
      .then(res => res.json())
      .then(data => {
        const tree = document.getElementById("tree");
        data.forEach(project => {
          tree.appendChild(createProjectNode(project));
        });
        addToggleHandlers();
      })
      .catch(err => console.error("Error loading JSON:", err));
  </script>
</body>

</html>

<!--
    {
        "name": "Lost Cow2",
        "Description": "Scratch game2, which its goal is to guide the lost snail to its home.",
        "Languages": ["CSS", "HTML", "JavaScript"], 
        "LinkToRepo": "https://github.com/arypog/lostcow2"
    }
-->
